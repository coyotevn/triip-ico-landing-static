"use strict";function handleVisibilityChange(e){var t,n;void 0!==document.hidden?(t="hidden",n="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",n="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),document.addEventListener(n,function(){e&&e(document[t])},!1)}function closest(e,t){return e.classList.contains(t)?e:closest(e.parentNode,t)}function getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}function initMeetUpTabs(){var e=document.querySelectorAll('[data-toggle="tab"]'),t=function(e){var t,n=e.currentTarget;"BUTTON"===n.tagName?t=n.getAttribute("data-target"):"A"===n.tagName&&(t=n.getAttribute("href"));var o=closest(n,"js-tabs"),i=o.querySelectorAll(".js-tab-content.active");Array.prototype.forEach.call(i,function(e){e.classList.remove("active")});var a=o.querySelectorAll('[data-toggle="tab"].active');Array.prototype.forEach.call(a,function(e){e.classList.remove("active")}),n.classList.add("active");var r=o.querySelector(t);r&&r.classList.add("active")};Array.prototype.forEach.call(e,function(e){e.addEventListener("click",t)})}function initCollapse(){var e=document.querySelector(".js-btn-view-more-videos");e.addEventListener("click",function(){e.parentNode.remove()});var t=document.querySelectorAll('[data-toggle="collapse"]');Array.prototype.forEach.call(t,function(e){return new Collapse(e)})}function renderChart(){var n=!1,e=document.getElementById("js-chart-token-distribution").getContext("2d"),a=document.querySelector(".js-chart-token-legend");new Chart(e,{type:"pie",data:{datasets:[{data:[33,25,17,15,10],backgroundColor:["#d8fffc","#92f1ea","#57d0c8","#7ef3b6","#2bc4b0"]}],labels:["Distributed","Community Reserve","Company Reserve","Ecosystem Advocates","Team"]},options:{legend:{display:!1,labels:{generateLabels:function(o){if(!n){var e=o.data.datasets,t=document.createElement("div");t.classList.add("row");var i="";e.map(function(n){n.data.map(function(e,t){i+='<div class="col col-6 col-md-6 col-lg-6">\n                    <div class="chart-caption" style="color:'.concat(n.backgroundColor[t],'">\n                      <h2 class="value">').concat(e,'%</h2>\n                      <p class="text">').concat(o.data.labels[t],"</p>\n                    </div></div>")})}),t.innerHTML=i,a.appendChild(t),n=!0}}}}}});n=!1;var t=document.getElementById("js-chart-fund").getContext("2d"),r=document.querySelector(".js-chart-fund-legend");return new Chart(t,{type:"pie",data:{datasets:[{data:[30.39,24.23,21.02,22.73,1.63],backgroundColor:["#d8fffc","#7ee3dc","#2bc4b0","#4ac2ca","#7ef3b6"]}],labels:["Research & Tech Development","Marketing","HR, Operation & Infrastructure","Business Development","Legal Efforts"]},options:{legend:{display:!1,labels:{generateLabels:function(o){if(!n){var e=o.data.datasets,t=document.createElement("div");t.classList.add("row");var i="";e.map(function(n){n.data.map(function(e,t){i+='<div class="col col-6 col-md-6 col-lg-6">\n                  <div class="chart-caption" style="color:'.concat(n.backgroundColor[t],'">\n                    <h2 class="value">').concat(e,'%</h2>\n                    <p class="text">').concat(o.data.labels[t],"</p>\n                  </div></div>")})}),t.innerHTML=i,r.appendChild(t),n=!0}}}}}})}function initBookedBubbles(){var e=document.querySelector(".js-world-map"),t=(e.querySelectorAll("ellipse"),document.getElementById("js-highlight-booked"));t.querySelector(".js-avatar"),t.querySelector(".js-message"),t.querySelector(".js-booked-highlight"),document.querySelector(".js-header-image-wrapper"),document.querySelector(".js-header-content");t.style.display="block";t.offsetWidth,t.offsetHeight;t.style.display="none";if(1024<window.innerWidth){var n,o;handleVisibilityChange(function(e){e?(console.log("hidden"),clearInterval(n),clearTimeout(o)):console.log("visible")})}}function initTopNavBar(){var o=0,i=0,a=0,r=0,c=0,n=null,l=document.querySelector(".js-main-nav-wrapper"),s=function(e){window.scrollTo(0,o+c),r=!1,window.cancelAnimationFrame(n),e&&e()},d=function(e,t){o=window.pageYOffset,c=e.offsetTop-o-l.offsetHeight,n=window.requestAnimationFrame(function(e){return function t(e,n){r||(r=e),i=c*(a=e-r)/500+o,window.scrollTo(0,i),500<a?s(n):window.requestAnimationFrame(function(e){return t(e,n)})}(e,t)})},u="",e=document.querySelectorAll(".js-nav-links a:not(.not-query)"),t=document.querySelector(".js-menu-overlay"),m=document.querySelector(".js-menu-button"),y=function(e){var t=document.querySelector(".js-main-nav-wrapper"),n=document.querySelector(".js-menu-overlay");anime({targets:[".js-menu-overlay"],opacity:e?1:0,begin:function(){e?(n.style.display="block",t.classList.add("show"),document.body.classList.add("modal-open")):t.classList.remove("show")},complete:function(){e||(n.style.display="none",document.body.classList.remove("modal-open"))}})};m.addEventListener("click",function(e){e.preventDefault(),y(!0)}),t.addEventListener("click",function(e){e.preventDefault(),y(!1)});var f=!1;Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){if(!f){f=!0;var t=e.target.getAttribute("href"),n=document.querySelector(t);d(n,function(){f=!1}),y(),window.mixpanel.track("user clicked "+t)}})}),window.addEventListener("scroll",function(){0<window.scrollY?l.classList.contains("sticky")||l.classList.add("sticky"):l.classList.contains("sticky")&&l.classList.remove("sticky"),Array.prototype.forEach.call(e,function(e){var t;(t=document.querySelector(e.getAttribute("href")))&&t.offsetTop<window.scrollY+window.innerHeight/2&&t.offsetTop+t.offsetHeight>window.scrollY+window.innerHeight/2&&(u=e.getAttribute("href"))}),Array.prototype.forEach.call(e,function(e){e.classList.remove("active"),e.getAttribute("href")!==u||e.classList.contains("active")||(e.classList.add("active"),u="")})})}function initVideos(){var e=document.querySelectorAll(".js-video-item-button");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){var t=e.currentTarget.getAttribute("data-src"),n=document.querySelector(".js-iframe");-1<t.indexOf("?")?-1===t.indexOf("autoplay")&&(t+="&autoplay=1"):t+="?autoplay=1",n.setAttribute("src",t),anime({targets:[".js-overlay",".js-modal"],opacity:1,begin:function(){document.querySelector(".js-overlay").style.display="block",document.querySelector(".js-modal").style.display="block",document.body.classList.add("modal-open"),window.mixpanel.track("user played video")}})})})}function initModal(){var e=document.querySelector(".js-close-modal"),t=document.querySelector(".js-modal"),n=function(){anime({targets:[".js-overlay",".js-modal"],opacity:0,complete:function(){document.querySelector(".js-overlay").style.display="none",document.querySelector(".js-modal").style.display="none",document.body.classList.remove("modal-open"),document.querySelector(".js-iframe").setAttribute("src","")}})};e.addEventListener("click",n),t.addEventListener("click",n)}function checkTimeline(){var e=document.querySelector(".js-timeline-active");document.querySelector(".js-active-bar").style.height=e.offsetTop+e.offsetHeight/2+"px"}function initSwiper(){return new Swiper(".js-team-swiper-container",{slidesPerView:"auto",loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function setABTesting(e){var t=new URL(document.URL).searchParams.get("c");window.testingType="A","1"!==t&&null!==t&&(window.testingType="B"),window.mixpanel.register({Test:window.testingType}),"function"==typeof e&&e.call(window)}function listenTypeForm(){document.getElementById("mc-embedded-subscribe").addEventListener("click",function(){window.mixpanel.track("user submitted typeform"),window.fbq("track","ViewContent")})}function listenHomeLink(){document.getElementById("js-homelink").addEventListener("click",function(){window.mixpanel.track("user checked triip.me on hero banner")})}function listenLinkedinClicks(){var e=document.querySelectorAll(".js-linkedin");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){var t=e.currentTarget;window.mixpanel.track("user clicked Linkedin link",{Link:t.href})})})}function hideElement(e){e.classList.add("hidden")}document.addEventListener("DOMContentLoaded",function(){setABTesting(function(){var e=document.querySelectorAll(".employee-intro.long"),t=document.querySelectorAll(".employee-intro.short");"B"===window.testingType?Array.prototype.forEach.call(e,hideElement):Array.prototype.forEach.call(t,hideElement)}),window.mixpanel.track("user visited ICO landing page"),initSwiper(),checkTimeline(),initVideos(),initModal(),initTopNavBar(),initBookedBubbles(),renderChart(),initCollapse(),initMeetUpTabs(),listenTypeForm(),listenHomeLink(),listenLinkedinClicks()}),function(n,o){o.bannerAnimation={currentBox:0};var i=n(".boxes .box").length,t=function(){var e=o.bannerAnimation.currentBox+1,t=e-1;n("#box"+e).removeClass("removed").show().addClass("show"),o.bannerAnimation.currentBox++,0<t&&o.setTimeout(function(){n("#box"+t).removeClass("show").hide().addClass("removed")},6e3/i)};992<=o.outerWidth&&function e(){o.bannerAnimation.currentBox<i?(t(),o.setTimeout(e,6e3)):(o.bannerAnimation.currentBox=0,n(".box").hide().removeClass("show").addClass("removed"),e())}()}(window.jQuery,window);